<!DOCTYPE html>
<html lang="en">
<head>
    <title>Interactive Video Demo</title>
    <style>
        video{
            position: absolute;
        }
        #hotspot, #hotspot2 {
            position:absolute;
            z-index:300000;
            border:2px solid;
            border-color: grey;
            border-radius:25px;
            vertical-align: center;
            text-align: center;
            line-height: 50px;
            color:white;
        }
        #hotspot:hover, #hotspot2:hover {
            background-color:rgba(0,255,0,0.3);
            border:4px solid;
            border-color:#0f0;
            cursor:pointer;
        }
    </style>
    <script>
        var idxHotspot = -1;
        var arrHotspots = [
            {"startTime":1.7,"endTime":2,"top":60,"left":295,"height":180,"width":140,"text":"Main shaft connected to blades spins in housing."},
            ];
        function init(){
            var flag = true;
            var video = document.getElementById('video1');
            var video2 = document.getElementById('video2');
	    var video3 = document.getElementById('video3');
            var video4 = document.getElementById('video4');
            var hotspot = document.getElementById('hotspot');
            var hotspot2 = document.getElementById('hotspot2');

            hotspot.addEventListener('click', function() {
//                 setTimeout(()=>{video.setAttribute('src', "https://drive.google.com/uc?export=download&id=1VhuUzmsmvuWZ6k1VUKwAxoZbL1f3_S65");
//                 video.loop=false;
//                 video.currentTime=0;
//                 video.load();
//                 setTimeout(()=>{
//                     video.play();
//                     video2.style.display='none';
//                     video2.setAttribute('src', "");
//                     video.style.display='';
//                 }, 3000)
//                 hotspot.style.display='none';
//                 hotspot2.style.display='none';}, 2000)
		hotspot.style.display='none';
                hotspot2.style.display='none';
                video.style.display='none'
                video2.style.display='none'
                video3.style.display=''
                video4.style.display='none'
                video3.play();
            });

            hotspot2.addEventListener('click', function() {
//                 setTimeout(()=>{video.setAttribute('src', "https://drive.google.com/uc?export=download&id=16nLUf9AYUJeBk_kx7QCWVXStmiMc2QOn");
//                 video.load();
//                 setTimeout(()=>{
//                     video.loop=false;
//                     video.currentTime=1;
//                     video.play();
//                     video2.style.display='none';
//                     video.style.display='';
//                 }, 3000)
//                 hotspot.style.display='none';
//                 hotspot2.style.display='none';}, 2000)
		video.style.display='none'
                video2.style.display='none'
                video3.style.display='none'
                video4.style.display=''
                video4.play();
                hotspot.style.display='none';
                hotspot2.style.display='none';
            });

            video.addEventListener('timeupdate', ()=>{
                if(flag && video.duration-1.5<=video.currentTime){
                    flag = false;
                    video2.style.display=''
//                     video2.setAttribute('src', 'https://drive.google.com/uc?export=download&id=1NxX_8bXvpaMckp4ajsXUC5b3c2IWKFq_'); 
//                     video2.load();
                    video2.loop=true;
//                     video2.play();
//                     console.log('in here')
//                     setTimeout(()=>{
                        video.style.display='none';
//                     }, 3000)
                }
                var vidCurrentTime = video.currentTime;
                var idxNewHotspot = -1;
                for (var i=0; i<arrHotspots.length; i++) {
                    if (vidCurrentTime>=arrHotspots[i].startTime && vidCurrentTime<arrHotspots[i].endTime) {
                        idxNewHotspot = i;
                    }
                }
                if (idxNewHotspot > -1) {
				
                    if (idxNewHotspot != idxHotspot) {
                        hotspot.style.width 	= arrHotspots[idxNewHotspot].width+'px';
                        hotspot.style.height 	= arrHotspots[idxNewHotspot].height+'px';
                        hotspot.style.left 		= arrHotspots[idxNewHotspot].left - 210 + 'px';
                        hotspot.style.top		= arrHotspots[idxNewHotspot].top+'px';
                        hotspot.innerHTML='EXPLODE'
                        hotspot2.style.width 	= arrHotspots[idxNewHotspot].width+'px';
                        hotspot2.style.height 	= arrHotspots[idxNewHotspot].height+'px';
                        hotspot2.style.left 	= arrHotspots[idxNewHotspot].left+'px';
                        hotspot2.style.top		= arrHotspots[idxNewHotspot].top+'px';
                        hotspot2.innerHTML='DUNK'
                        hotspot.style.visibility = 'visible';
                        hotspot2.style.visibility = 'visible';
                        idxHotspot = idxNewHotspot;
                    }
                }
            }, false)
        }
        window.addEventListener('load',init);
    </script>
</head>
<body>
    <div id="hotspot"></div>
    <div id="hotspot2"></div>
    <video id='video1' style='width:500px;' preload autoplay muted>
        <source id="vidSrc1" src="https://drive.google.com/uc?export=download&id=1jNZxI89-cGgafuGM3fYmucscRN-G98ld" type="video/mp4">
    </video>
    <video id='video2'preload style='width:500px; display: none;' autoplay muted>
        <source id="vidSrc1" src="https://drive.google.com/uc?export=download&id=1NxX_8bXvpaMckp4ajsXUC5b3c2IWKFq_" type="video/mp4">
    </video>
    <video id='video3'preload style='width:500px; display: none;' autoplay muted>
        <source id="vidSrc1" src="https://drive.google.com/uc?export=download&id=1VhuUzmsmvuWZ6k1VUKwAxoZbL1f3_S65" type="video/mp4">
    </video>
    <video id='video4'preload style='width:500px; display: none;' autoplay muted>
        <source id="vidSrc1" src="https://drive.google.com/uc?export=download&id=16nLUf9AYUJeBk_kx7QCWVXStmiMc2QOn" type="video/mp4">
    </video>
</body>
</html>
